digraph G {
	//rankdir=LR;
	labeljust=L;
	node [shape=box, style=filled, fillcolor=white]
	edge [fontname="monospace"]

	chisel    [label="Our chisel code"]
	reference [label="Our reference\nimplenentation"]
	FIRRTL    [label="FIRRTL representation\n( FPGATopLevel.fir )"]
	Verilog   [label="Verilog HDL representation\n( FPGATopLevel.v )"]
	simulator [label="Cycle-accurate\nFGPA C++ simulator"]
	FPGABIT   [label="FPGA bitfile"]
	test_data [label="FPGA\ntest data"]

	node [shape=ellipse]
	FPGA [label="FPGA doing stuff!"]
	test      [label="specific test in chisel"]

	test_data->chisel [constraint=false]

	reference -> test_data [label="\
		\ \ $ cd planning/simulator\l\
		\ \ $ ./simulator.py my_midi_file.mid -s -o -n > events.txt\l"]


	chisel -> FIRRTL  [label="\
		\ \ $ cd FPGA\l\
		\ \ $ sbt run\l"]
	chisel -> test  [label="\
		\ \ $ cd FPGA\l\
		\ \ $ sbt testOnly mytest\l"]

	FIRRTL -> Verilog [label="\
		\ \ $ cd FPGA\l\
		\ \ $ firrtl -i FPGATopLevel.fir -o FPGATopLevel.v\l"]
	Verilog -> simulator [label="\
		\ \ $ cd FPGA\l\
		\ \ $ verilator FPGATopLevel.v \l"]
	Verilog-> FPGABIT [label="\
		\ \ open vivado:\l\
		\ \ \ 1. Click the green play button at the top of the Vivado screen.\l\
		\ \ \ 2. Select \"Run Synthesis\".\l\
		\ \ \ \ \ \ -\ If a \"Launch Runs\" dialog appears then select \"Don't show this dialog again\" and click \"OK\".\l\
		\ \ \ \ \ \ -\ In the top right of your Vivado window, you'll see a message \"Running synth_design\".\l\
		\ \ \ 3. A dialog will appear prompting you to \"Run Implementation\".\l\
		\ \ \ \ \ \ -\ Click \"OK\" to start implementation.\l\
		\ \ \ 4. A dialog will appear saying \"Implementation successfully completed\".\l\
		\ \ \ \ \ \ -\ Select \"Generate Bitstream\" and click \"OK\".\l\
		\ \ \ 5. A dialog will appear saying \"Bitstream Generation successfully completed\".\l\
		\ \ \ \ \ \ -\ Select \"Open Hardware Manager\" and click \"OK\".\l"]
	FPGABIT-> FPGA    [label="\
		\ \ still in vivado:\l\
		\ \ \ 6. Connect your Arty board to your PC using a micro USB cable.\l\
		\ \ \ 7. At the bottom left of Vivado select \"Open Target\" under \"Open Hardware Manager\".\l\
		\ \ \ 8. Choose \"Auto Connect\" from the menu.\l\
		\ \ \ 9. Select \"Program Device\" under \"Open Hardware Manager\".\l\
		\ \ 10. There should be one option \"xc7a35t_0\"; this is your Arty board.\l\
		\ \ 11. Browse to your bitstream file FPGATopLevel.bit.\l\
		\ \ 12. Click \"Program\".\l"]

// /opt/Xilinx/Vivado/2019.1/data/xicom/cable_drivers/lin64/install_script/install_drivers/install_digilent.sh
}
